{% extends "common/base.html" %}
{% load static %}

{% block page_title %}Login{% endblock %}

{% block content %}
<style>
    body {
        background: radial-gradient(circle at 10% 10%, rgba(124, 58, 237, 0.12), transparent 30%),
                    radial-gradient(circle at 80% 20%, rgba(14, 165, 233, 0.12), transparent 25%),
                    linear-gradient(135deg, #0b1220, #0f172a, #0b1220);
    }
    .login-stage {
        min-height: calc(100vh - 80px);
        display: flex;
        align-items: flex-start;
        justify-content: center;
        padding-top: 60px;
    }
    .login-hero {
        background: linear-gradient(90deg, #7c3aed, #5b21b6, #2563eb);
        box-shadow: 0 14px 32px rgba(37, 99, 235, 0.28);
        border: 1px solid rgba(255, 255, 255, 0.16);
        border-radius: 16px;
        position: relative;
        overflow: hidden;
    }
    .login-hero::after {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(120deg, rgba(255,255,255,0.12), transparent 55%);
        transform: translateX(-40%);
        animation: sweep 3s ease-in-out infinite;
    }
    @keyframes sweep {
        0% { transform: translateX(-60%); opacity: 0; }
        40% { opacity: 1; }
        100% { transform: translateX(80%); opacity: 0; }
    }
    .login-hero marquee {
        font-size: 1.2rem;
        letter-spacing: 0.4px;
        font-weight: 800;
        position: relative;
        z-index: 1;
    }
    .glow-card {
        box-shadow: 0 12px 28px rgba(0, 0, 0, 0.35), 0 0 0 1px rgba(59, 130, 246, 0.25);
        border-radius: 18px;
    }
    .login-footer {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: linear-gradient(90deg, #0f172a, #312e81, #2563eb);
        color: #e5e7eb;
        padding: 12px 24px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 -10px 28px rgba(15, 23, 42, 0.35);
        z-index: 10;
    }
    .login-footer a {
        color: #bfdbfe;
        text-decoration: none;
        font-weight: 600;
    }
    .login-footer a:hover {
        color: #fff;
        text-decoration: underline;
    }
</style>
<div class="container-fluid login-stage">
    <div class="d-flex justify-content-center w-100">
        <div class="card glow-card w-100" style="max-width: 520px;">
            <div class="card-body">
                <div class="mb-4">
                    <div class="login-hero text-white px-4 py-3 rounded-3">
                        <marquee behavior="scroll" direction="left" scrollamount="7">
                            Assignment Monster - AI-crafted academic content - Gems-based generation you can trust - Structures, citations, and sources aligned to your goals - Built for faster, sharper submissions
                        </marquee>
                    </div>
                </div>
                <div class="mb-3 text-white-75 fw-semibold text-center" style="font-size: 0.95rem;">
                    Level up your workspace with gems-powered creation. Trusted by teams worldwide.
                </div>
                <form method="post" novalidate>
                    {% csrf_token %}
                    {{ form.non_field_errors }}
                    {% for field in form.visible_fields %}
                        <div class="mb-3">
                            <label class="form-label fw-semibold" for="{{ field.id_for_label }}">{{ field.label }}</label>
                            {{ field }}
                            {% if field.help_text %}
                                <small class="text-muted d-block">{{ field.help_text }}</small>
                            {% endif %}
                            {{ field.errors }}
                        </div>
                    {% endfor %}
                    <button class="btn btn-primary w-100" type="submit">Login</button>
                </form>
                <div class="mt-3 d-grid gap-2">
                    <a class="btn btn-outline-info d-flex align-items-center justify-content-center gap-2" href="{% url 'accounts:global_sso_start' %}">
                        <span aria-hidden="true" style="display:inline-flex; width:18px; height:18px;">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="18" height="18">
                                <path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.91 2.37 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.53 12.49 17.74 9.5 24 9.5z"/>
                                <path fill="#34A853" d="M46.5 24.5c0-1.68-.15-3.29-.43-4.85H24v9.19h12.65c-.55 2.9-2.23 5.36-4.74 7.01l7.29 5.66C43.54 37.5 46.5 31.5 46.5 24.5z"/>
                                <path fill="#4A90E2" d="M35.91 35.85C33.23 37.63 29.9 38.5 26.25 38.5c-6.27 0-11.6-4.05-13.5-9.62l-7.98 6.19C7.52 42.62 15.63 48 25.01 48c6.2 0 11.41-2.05 15.21-5.55l-7.31-6.6z"/>
                                <path fill="#FBBC05" d="M10.75 28.88c-.44-1.32-.69-2.73-.69-4.38 0-1.64.26-3.06.69-4.38l-7.98-6.19C.93 16.2 0 20.01 0 24c0 3.99.93 7.8 2.76 11.06l7.99-6.18z"/>
                            </svg>
                        </span>
                        <span>Sign up with Google</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="login-footer">
    <div class="fw-bold">Assignment Monster | Smarter content, powered by gems</div>
    <div class="d-flex align-items-center gap-3">
        <div class="dropup">
            <button class="btn btn-outline-light btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                Floor Users
            </button>
            <ul class="dropdown-menu dropdown-menu-end p-2 overflow-hidden" style="min-width: 240px;">
                <li class="mb-1">
                    <a class="btn btn-primary w-100 fw-semibold" href="{% url 'accounts:floor_login' %}">Floor Login</a>
                </li>
                <li class="mb-1">
                    <a class="btn btn-primary w-100 fw-semibold" href="{% url 'accounts:floor_signup' %}">Floor Signup (invite)</a>
                </li>
                <li>
                    <a class="btn btn-primary w-100 fw-semibold" href="{% url 'accounts:floor_status_lookup' %}">Check Floor Signup Status</a>
                </li>
            </ul>
        </div>
        <div class="small">
            <span>&copy; 2025 Assignment Monster</span>
        </div>
    </div>
</div>
{% endblock %}
